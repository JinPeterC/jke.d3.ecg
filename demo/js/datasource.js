(function ($) {
	'use strict';

	// A list of data point samples for one beat.
	var _data = [
		{x: 0, y: 0},
		{x: 1, y: 0},
		{x: 2, y: 0},
		{x: 3, y: 0},
		{x: 4, y: 0.0000050048828125},
		{x: 5, y: 0.0000137939453125},
		{x: 6, y: 0.000049560546875},
		{x: 7, y: 0.00008740234375},
		{x: 8, y: 0.00015966796875},
		{x: 9, y: 0.000262451171875},
		{x: 10, y: 0.0003975830078125},
		{x: 11, y: 0.0005687255859375},
		{x: 12, y: 0.0007802734375},
		{x: 13, y: 0.001037353515625},
		{x: 14, y: 0.0013468017578125},
		{x: 15, y: 0.00172119140625},
		{x: 16, y: 0.0021756591796875},
		{x: 17, y: 0.0027232666015625},
		{x: 18, y: 0.0033880615234375},
		{x: 19, y: 0.004206787109375},
		{x: 20, y: 0.0052380371093750005},
		{x: 21, y: 0.006586181640625},
		{x: 22, y: 0.008400146484375001},
		{x: 23, y: 0.010904296875},
		{x: 24, y: 0.0144892578125},
		{x: 25, y: 0.0196798095703125},
		{x: 26, y: 0.049684204101562504},
		{x: 27, y: 0.0886883544921875},
		{x: 28, y: 0.11185363769531251},
		{x: 29, y: 0.134164306640625},
		{x: 30, y: 0.137352294921875},
		{x: 31, y: 0.1160369873046875},
		{x: 32, y: 0.08516308593750001},
		{x: 33, y: 0.0539765625},
		{x: 34, y: 0.014997436523437501},
		{x: 35, y: -0.015882568359375},
		{x: 36, y: -0.0387554931640625},
		{x: 37, y: -0.06125732421875},
		{x: 38, y: -0.0745780029296875},
		{x: 39, y: -0.07479357910156251},
		{x: 40, y: -0.0725338134765625},
		{x: 41, y: -0.0418538818359375},
		{x: 42, y: 0.08582861328125001},
		{x: 43, y: 0.397717529296875},
		{x: 44, y: 0.8136408691406251},
		{x: 45, y: 1.2295617980957032},
		{x: 46, y: 0.9944150390625001},
		{x: 47, y: 0.2824605712890625},
		{x: 48, y: -0.38949267578125},
		{x: 49, y: -0.597251220703125},
		{x: 50, y: -0.425675537109375},
		{x: 51, y: -0.1537947998046875},
		{x: 52, y: -0.0500914306640625},
		{x: 53, y: -0.0111041259765625},
		{x: 54, y: 0.0027451171875},
		{x: 55, y: 0.0071739501953125},
		{x: 56, y: 0.008443359375},
		{x: 57, y: 0.0094327392578125},
		{x: 58, y: 0.012530517578125},
		{x: 59, y: 0.0176046142578125},
		{x: 60, y: 0.0300162353515625},
		{x: 61, y: 0.0433489990234375},
		{x: 62, y: 0.056962646484375004},
		{x: 63, y: 0.0704832763671875},
		{x: 64, y: 0.0770511474609375},
		{x: 65, y: 0.0898175048828125},
		{x: 66, y: 0.10311853027343751},
		{x: 67, y: 0.117046142578125},
		{x: 68, y: 0.1312630615234375},
		{x: 69, y: 0.1529300537109375},
		{x: 70, y: 0.167607177734375},
		{x: 71, y: 0.1899068603515625},
		{x: 72, y: 0.2124422607421875},
		{x: 73, y: 0.235044677734375},
		{x: 74, y: 0.2575535888671875},
		{x: 75, y: 0.2724073486328125},
		{x: 76, y: 0.286978271484375},
		{x: 77, y: 0.3007579345703125},
		{x: 78, y: 0.3067425537109375},
		{x: 79, y: 0.3106370849609375},
		{x: 80, y: 0.303756103515625},
		{x: 81, y: 0.2897236328125},
		{x: 82, y: 0.25916931152343753},
		{x: 83, y: 0.2200599365234375},
		{x: 84, y: 0.1728209228515625},
		{x: 85, y: 0.133416259765625},
		{x: 86, y: 0.086224853515625},
		{x: 87, y: 0.05493408203125},
		{x: 88, y: 0.02409423828125},
		{x: 89, y: 0.00922607421875},
		{x: 90, y: -0.0043409423828125},
		{x: 91, y: -0.0097349853515625},
		{x: 92, y: -0.013127685546875},
		{x: 93, y: -0.01423095703125},
		{x: 94, y: -0.013834716796875},
		{x: 95, y: -0.012556030273437501},
		{x: 96, y: -0.010675048828125},
		{x: 97, y: -0.00835888671875},
		{x: 98, y: -0.0057305908203125},
		{x: 99, y: -0.0000562744140625}
	];

	// Create a data point generator.
	var getDataPoint = (function () {

		var _x = -1;
		var _max = _data.length;

		return function () {
			_x++;
			return { x: Date.now(), y: _data[_x % _max].y };
		};
	})();

	var heartRate = 60; // bpm
	var interval = 60 * 1000 / (_data.length * heartRate);

	// Generate a new data point based on the heart rate.
	setInterval(function () {
		$('.jke-ecgChart').ecgChart('addDataPoint', getDataPoint());
	}, interval);

})($);
